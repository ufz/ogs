# Source files

GET_SOURCE_FILES(SOURCES)

IF(NOT OGS_USE_PETSC)
	list(REMOVE_ITEM SOURCES MPI/PETScWallClockTimer.h)
ENDIF()

IF(OGS_USE_MPI OR OGS_USE_PETSC)
	SET (SOURCES ${SOURCES} MPI/WallClockTimer.h)
ENDIF()

LIST(APPEND SOURCES "${CMAKE_CURRENT_BINARY_DIR}/BuildInfo.cpp" BuildInfo.h)

# Create the library
ADD_LIBRARY( BaseLib STATIC ${SOURCES})

SET_TARGET_PROPERTIES(BaseLib PROPERTIES LINKER_LANGUAGE CXX)

INCLUDE_DIRECTORIES(
	.
)

TARGET_LINK_LIBRARIES( BaseLib
	${Boost_LIBRARIES}
)

IF(WIN32)
	TARGET_LINK_LIBRARIES( BaseLib WinMM )
ENDIF()
