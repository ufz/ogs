# Source files
GET_SOURCE_FILES(SOURCES_FILEIO)
GET_SOURCE_FILES(SOURCES_LEGACY Legacy)
GET_SOURCE_FILES(SOURCES_MESHIO MeshIO)
SET ( SOURCES ${SOURCES_FILEIO} ${SOURCES_LEGACY} ${SOURCES_MESHIO})

IF (QT4_FOUND)
	GET_SOURCE_FILES(SOURCES_XML XmlIO)
	SET ( SOURCES ${SOURCES} ${SOURCES_XML})
ENDIF (QT4_FOUND)

# Create the library
ADD_LIBRARY(FileIO STATIC ${SOURCES})

include_directories(
	.
	${CMAKE_SOURCE_DIR}/BaseLib
	${CMAKE_SOURCE_DIR}/FemLib
	${CMAKE_SOURCE_DIR}/GeoLib
	${CMAKE_SOURCE_DIR}/MathLib
	${CMAKE_SOURCE_DIR}/MeshLib
	${CMAKE_SOURCE_DIR}/OGS
	${CMAKE_BINARY_DIR}/BaseLib
)

target_link_libraries (FileIO
	GeoLib
	MeshLib
)

