# Source files
set(SOURCES
	DetailWindow.cpp
	DiagramList.cpp
	DiagramPrefsDialog.cpp
	DiagramScene.cpp
	DiagramView.cpp
	QArrow.cpp
	QGraphicsGrid.cpp
)

# Header files
set(HEADERS
	DiagramList.h
	QArrow.h
	QGraphicsGrid.h
	DiagramScene.h
	DetailWindow.h
	DiagramPrefsDialog.h
	DiagramView.h
)

# Include the headers which are generated by uic and moc
# and include additional header
set(SOURCE_DIR_REL ${CMAKE_CURRENT_SOURCE_DIR}/../../../..)
set(GUI_SOURCE_DIR_REL ${CMAKE_CURRENT_SOURCE_DIR}/../..)
include_directories(
	${SOURCE_DIR_REL}/BaseLib
	${SOURCE_DIR_REL}/GeoLib
	${SOURCE_DIR_REL}/MathLib
	${GUI_SOURCE_DIR_REL}/Base
	${GUI_SOURCE_DIR_REL}/DataView
	${CMAKE_CURRENT_BINARY_DIR}/../../DataView
	${CMAKE_CURRENT_BINARY_DIR}
)

# Put moc files in a project folder
source_group("Moc Files" REGULAR_EXPRESSION moc_*)

# Create the library
add_library(QtDiagramView STATIC
	${SOURCES}
	${HEADERS}
)

# Link Qt library
target_link_libraries(QtDiagramView PUBLIC Qt5::Gui)

set_property(TARGET QtDiagramView PROPERTY FOLDER "DataExplorer")
