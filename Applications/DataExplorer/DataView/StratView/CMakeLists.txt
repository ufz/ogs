# Source files
set( SOURCES
	StratBar.cpp
	StratScene.cpp
	StratView.cpp
	StratWindow.cpp
)

# Moc Header files
set( MOC_HEADERS
	StratView.h
	StratWindow.h
)

# Header files
set( HEADERS
	StratBar.h
	StratScene.h
)

# UI files
set( UIS
	StratWindow.ui
)

# Run Qts user interface compiler uic on .ui files
qt4_wrap_ui( UI_HEADERS ${UIS} )

# Run Qts meta object compiler moc on header files
qt4_wrap_cpp( MOC_SOURCES ${MOC_HEADERS} )

# Include the headers which are generated by uic and moc
# and include additional header
SET(SOURCE_DIR_REL ${CMAKE_CURRENT_SOURCE_DIR}/../../../..)
SET(GUI_SOURCE_DIR_REL ${CMAKE_CURRENT_SOURCE_DIR}/../..)
include_directories(
	${CMAKE_CURRENT_SOURCE_DIR}
	${CMAKE_CURRENT_BINARY_DIR}
	${SOURCE_DIR_REL}/BaseLib
	${SOURCE_DIR_REL}/GeoLib
	${SOURCE_DIR_REL}/MathLib
	${GUI_SOURCE_DIR_REL}/Base
)

# Put moc files in a project folder
source_group("Moc Files" REGULAR_EXPRESSION moc_*)

# Create the library
#add_executable( StratView
add_library( QtStratView STATIC
	${SOURCES}
	${HEADERS}
	${MOC_HEADERS}
	${MOC_SOURCES}
	${UI_HEADERS}
)

# Link Qt library
target_link_libraries( QtStratView
	${QT_LIBRARIES}
	BaseLib
	GeoLib
	MathLib
)

set_property(TARGET QtStratView PROPERTY FOLDER "DataExplorer")
