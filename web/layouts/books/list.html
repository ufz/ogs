{{ define "main" }}
<div class="prose prose-sm lg:prose max-w-none lg:max-w-none">
  {{ with .Title }}<h1>{{ . }}</h1>{{ end }}
  {{ with .Content }}<div>{{ . }}</div>{{ end }}
</div>

<div class="flex flex-wrap -m-4 p-4">
  {{ range .Paginator.Pages }}
  <div class="xl:w-1/3 md:w-1/2 mt-2 px-4 py-2 md:p-4">
    <a href="{{ .RelPermalink }}">
      <div class="p-4 bg-gray-100 hover:bg-white rounded-lg shadow h-full">
        {{ if .Params.image }}
        {{ if .Resources.GetMatch .Params.image }}
        <img class="w-full h-48 object-contain mb-4" src="{{ (.Resources.GetMatch .Params.image).RelPermalink }}"
          alt="">
        {{ else }}
        <img class="w-full h-48 object-contain mb-4" src="{{ .Params.image }}" alt="">
        {{ end }}
        {{ end }}
        <h3 class="text-xl mb-2 border-b text-blue-800">
          {{ .Title }}
          {{ if .Params.subtitle }}
          <span class="text-regular text-gray-600 text-sm block mt-1">{{ .Params.subtitle }}</span>
          {{ end }}
        </h3>
        {{ if .Params.categories }}
        <div class="flex flex-wrap gap-2 mb-2">
          {{ range .Params.categories }}
          <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">
            {{ . }}
          </span>
          {{ end }}
        </div>
        {{ end }}
        <p class="leading-relaxed text-base">
          {{ .Summary | truncate 150 }}
        </p>
      </div>
    </a>
  </div>
  {{ end }}
</div>
{{ partial "pagination.html" . }}
{{ end }}